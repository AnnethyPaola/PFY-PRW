{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Annethy\\\\OneDrive\\\\Escritorio\\\\ITLA\\\\Cuarto cuatrimestre\\\\Programacion web\\\\FINAL\\\\webfinal\\\\src\\\\Registrar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport firebaseConfig from './Confi/firebase2.js';\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst auth = getAuth(firebaseConfig);\n\nfunction Registro() {\n  _s();\n\n  const [user, setUser] = useState(null);\n\n  function setUserWithFirebase(UsuarioFirebase) {\n    const userData = {\n      uid: UsuarioFirebase.uid,\n      email: UsuarioFirebase.email,\n      password: UsuarioFirebase.password\n    };\n    setUser(userData);\n    console.log('UserData Final', userData);\n  }\n\n  onAuthStateChanged(auth, UsuarioFirebase => {\n    if (UsuarioFirebase) {\n      if (!user) {\n        setUserWithFirebase(UsuarioFirebase);\n      }\n    } else {\n      setUser(null);\n    }\n  });\n  const firestore = getFirestore(firebaseConfig);\n  const [isRegistrando, setIsRegistrando] = useState(false);\n\n  async function registrarUsuario(email, password, usuario, nombre, apellido) {\n    const infoUsuario = await createUserWithEmailAndPassword(auth, email, password).then(UsuarioFirebase => {\n      return UsuarioFirebase;\n    });\n    console.log(infoUsuario.user.id);\n    const docuRef = doc(firestore, `usuario/${infoUsuario.user.uid}`);\n    setDoc(docuRef, {\n      correo: email,\n      password: password,\n      nombre: nombre,\n      apellido: apellido,\n      usuario: usuario\n    });\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n    const email = e.target.elements.email.value;\n    const password = e.target.elements.password.value;\n    const usuario = e.target.elements.usuario.value;\n    const nombre = e.target.elements.nombre.value;\n    const apellido = e.target.elements.apellido.value;\n\n    if (isRegistrando) {\n      registrarUsuario(email, password, usuario, nombre, apellido);\n    } else {\n      signInWithEmailAndPassword(auth, email, password);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Correo:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Usuario:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Nombre:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Apellido:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"apellido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: isRegistrando ? \"Registrar\" : \"Iniciar sesión\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsRegistrando(!isRegistrando),\n      children: isRegistrando ? \"Ya tengo una cuenta\" : \"Quiero registrarme\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 2\n    }, this), user ? /*#__PURE__*/_jsxDEV(Home2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 8\n  }, this);\n}\n\n_s(Registro, \"K53v6IqfwWAepwp2t4u2OLV3OHQ=\");\n\n_c = Registro;\nexport default Registro;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registro\");","map":{"version":3,"sources":["C:/Users/Annethy/OneDrive/Escritorio/ITLA/Cuarto cuatrimestre/Programacion web/FINAL/webfinal/src/Registrar.js"],"names":["React","useState","firebaseConfig","getAuth","createUserWithEmailAndPassword","signInWithEmailAndPassword","getFirestore","doc","setDoc","auth","Registro","user","setUser","setUserWithFirebase","UsuarioFirebase","userData","uid","email","password","console","log","onAuthStateChanged","firestore","isRegistrando","setIsRegistrando","registrarUsuario","usuario","nombre","apellido","infoUsuario","then","id","docuRef","correo","submitHandler","e","preventDefault","target","elements","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport firebaseConfig from './Confi/firebase2.js'\r\nimport {getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword} from \"firebase/auth\";\r\nimport {getFirestore, doc, setDoc} from 'firebase/firestore'\r\n\r\n\r\nconst auth = getAuth(firebaseConfig);\r\n\r\nfunction Registro () {\r\n\r\n    const [user, setUser] = useState(null);\r\n\r\n  function setUserWithFirebase(UsuarioFirebase){\r\n    const userData = {\r\n        uid: UsuarioFirebase.uid,\r\n        email: UsuarioFirebase.email,\r\n        password: UsuarioFirebase.password\r\n      };\r\n      setUser(userData);\r\n      console.log('UserData Final', userData);\r\n  }\r\n\r\n  onAuthStateChanged(auth,(UsuarioFirebase) => {\r\n    if(UsuarioFirebase){\r\n      if(!user){\r\n        setUserWithFirebase(UsuarioFirebase);\r\n      }\r\n    }else{\r\n      setUser(null);\r\n    }\r\n  });\r\n  \r\n    const firestore = getFirestore(firebaseConfig);\r\n    const [isRegistrando, setIsRegistrando] = useState(false);\r\n\r\n   async function registrarUsuario(email,password,usuario,nombre,apellido){\r\n    const infoUsuario = await createUserWithEmailAndPassword(\r\n        auth, \r\n        email,\r\n        password).then((UsuarioFirebase) =>{\r\n        return UsuarioFirebase;\r\n    });\r\n\r\n    console.log(infoUsuario.user.id);\r\n    const docuRef = doc(firestore, `usuario/${infoUsuario.user.uid}`);\r\n    setDoc(docuRef, {correo: email, password:password, nombre:nombre, apellido:apellido, usuario:usuario});\r\n   }\r\n\r\n    function submitHandler(e){\r\n        e.preventDefault();\r\n\r\n        const email = e.target.elements.email.value;\r\n        const password = e.target.elements.password.value;\r\n        const usuario = e.target.elements.usuario.value;\r\n        const nombre = e.target.elements.nombre.value;\r\n        const apellido = e.target.elements.apellido.value;\r\n         \r\n         if(isRegistrando){\r\n           registrarUsuario(email,password,usuario,nombre,apellido);\r\n         }else{\r\n        signInWithEmailAndPassword(auth, email, password);\r\n         }\r\n\r\n    }\r\n\r\n        return (\r\n       <div className=\"container\">\r\n       <form onSubmit={submitHandler}>\r\n       <label>Correo:\r\n       <input type=\"email\" id=\"email\"/>\r\n        </label>\r\n        <label>Password:\r\n       <input type=\"password\" id=\"password\"/>\r\n        </label>\r\n        <label>Usuario:\r\n       <input type=\"text\" id=\"usuario\"/>\r\n        </label>\r\n        <label>Nombre:\r\n       <input type=\"text\" id=\"nombre\"/>\r\n        </label>\r\n        <label>Apellido:\r\n       <input type=\"text\" id=\"apellido\"/>\r\n        </label>\r\n    <input\r\n          type=\"submit\"\r\n          value={isRegistrando ? \"Registrar\" : \"Iniciar sesión\"}\r\n        />\r\n       </form>\r\n <button onClick={() => setIsRegistrando(!isRegistrando)}>\r\n        {isRegistrando ? \"Ya tengo una cuenta\" : \"Quiero registrarme\"}\r\n      </button>\r\n {user ?  <Home2 /> :  <Home />}\r\n  \r\n       </div>\r\n        )\r\n    }\r\n\r\nexport default Registro;"]},"metadata":{},"sourceType":"module"}